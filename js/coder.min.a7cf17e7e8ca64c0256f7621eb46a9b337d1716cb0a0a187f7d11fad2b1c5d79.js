const body=document.body,darkModeToggle=document.getElementById("dark-mode-toggle"),darkModeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)");localStorage.getItem("colorscheme")?setTheme(localStorage.getItem("colorscheme")):setTheme(body.classList.contains("colorscheme-light")||body.classList.contains("colorscheme-dark")?body.classList.contains("colorscheme-dark")?"dark":"light":darkModeMediaQuery.matches?"dark":"light"),darkModeToggle&&darkModeToggle.addEventListener("click",()=>{let e=body.classList.contains("colorscheme-dark")?"light":"dark";setTheme(e),rememberTheme(e)}),darkModeMediaQuery.addListener(e=>{setTheme(e.matches?"dark":"light")}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".preload-transitions");e.classList.remove("preload-transitions")});function setTheme(e){body.classList.remove("colorscheme-auto");let n=e==="dark"?"light":"dark";body.classList.remove("colorscheme-"+n),body.classList.add("colorscheme-"+e),document.documentElement.style["color-scheme"]=e;function t(e){return new Promise(t=>{if(document.querySelector(e))return t(document.querySelector(e));const n=new MutationObserver(s=>{document.querySelector(e)&&(t(document.querySelector(e)),n.disconnect())});n.observe(document.body,{childList:!0,subtree:!0})})}if(e==="dark"){const e={type:"set-theme",theme:"github-dark"};t(".utterances-frame").then(t=>{t.contentWindow.postMessage(e,"https://utteranc.es")})}else{const e={type:"set-theme",theme:"github-light"};t(".utterances-frame").then(t=>{t.contentWindow.postMessage(e,"https://utteranc.es")})}function s(e){const t=document.querySelector("iframe.giscus-frame");if(!t)return;t.contentWindow.postMessage({giscus:e},"https://giscus.app")}s({setConfig:{theme:e}});const o=new Event("themeChanged");document.dispatchEvent(o)}function rememberTheme(e){localStorage.setItem("colorscheme",e)}async function askQuestion(e){const t=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer 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`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-3.5-turbo",prompt:e,max_tokens:50,temperature:.7})});if(t.ok){const e=await t.json();return e.choices&&e.choices.length>0?e.choices[0].text.trim():(console.error("Unexpected API response structure:",e),"Sorry, I could not process your request.")}else return console.error("API error:",t.status,t.statusText),"Sorry, something went wrong."}document.getElementById("submitBtn").addEventListener("click",async()=>{const e=document.getElementById("questionInput").value;if(e){document.getElementById("chatWindow").innerHTML+=`<p><strong>You:</strong> ${e}</p>`;const t=await askQuestion(e);document.getElementById("chatWindow").innerHTML+=`<p><strong>Naveen:</strong> ${t}</p>`,document.getElementById("questionInput").value=""}})